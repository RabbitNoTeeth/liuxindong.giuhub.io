MySQL支持对MyISAM表和MEMORY表进行表级锁定。

`lock tables`可以锁定用于当前线程的表，如果表被其他线程锁定，则当前线程会等待，直到可以获取所有的锁定为止。

`unlock tables`可以释放当前线程获得的任何锁定，当前线程执行另一个`lock tables`时，或者与服务器的连接被关闭时，所有由当前线程锁定的表被隐含地解锁。



**SQL语句：**

其中read和write为锁定类型

```
lock table 表名 read|write; 
... 
unlock tables; 
```



**示例**

假如存在一个User表，里面有1条记录，现在有session1和session2两个会话，即两个线程同时进行操作。

|                           session1                           |                           session2                           |
| :----------------------------------------------------------: | :----------------------------------------------------------: |
|      获取User表的read锁定 mysql> lock table User read;       |                                                              |
| 查询User表记录 mysql> select * from User; 查询结果：1 row in set | 查询User表记录 mysql> select * from User; 查询结果：1 row in set |
|                                                              | 更新User表记录 mysql> update User set name=’jack’ where id=1; 无法更新，需要等待获得锁 |
|                 释放锁 mysql> unlock tables                  |                             等待                             |
|                                                              |                     获得锁，进行更新操作                     |