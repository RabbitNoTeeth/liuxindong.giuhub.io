[TOC]



# 1 开启事务

如果在锁表期间，用 `start transaction` 命令开启一个新的事务，那么会隐式地执行 `unlock tables` 释放表锁。

```
start transaction; 
```



# 2 提交事务

```
commit;                 提交事务
commit and chain;       提交当前事务，并开启新的事务（新开启的事务与之前的事务具有相同的隔离级别）
commit release;         提交当前事务，然后断开与客户端的连接
```



# 3 创建保存点

```
savepoint 保存点名称;
```



# 4 删除保存点

```
release savepoint保存点名称;
```



# 5 回滚

```
rollback;                             回滚
rollback release;                     回滚，然后断开与客户端的连接
rollback to savepoint 保存点名称;       回滚到保存点
```



# 6 开启自动提交

```
set autocommit = 1;
```



# 7 关闭自动提交

```
set autocommit = 0;
```



# 8 示例

```
start transaction; 
    ...sql操作... 
commit;
```



```
start transaction; 
    ...sql操作... 
commit and chain; 
    ...sql 操作... 
commit;
```



```
start transaction; 
    ...sql操作... 
rollback;
```



```
start transaction; 
    ...sql操作... 
savepoint 保存点名称; 
    ...sql操作... 
rollback to savepoint 保存点名称;
```