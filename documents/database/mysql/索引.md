[TOC]

所有MySQL列类型都可以被索引，对相关列使用索引是提高select操作性能的最佳途径。每种存储引擎对每个表至少支持16个索引，总索引长度至少为256字节。

MyISAM和InnoDB存储引擎的表默认创建的都是BTREE索引。MySQL目前不支持函数索引，但是支持前缀索引，即对索引字段的前n个字符创建索引。MyISAM表索引的前缀长度可以达到1000字节，InnoDB表的索引的前缀长度最大为767字节。（注意，前缀长度以字节为单位，而不是字符）

MySQL中只有MyISAM存储引擎支持全文索引(FULLTEXT)，并且只限于char、varchar、text列，索引总是对整个列进行，不支持局部（如前缀）索引。



# 1 SQL语句

## 1.1 创建索引

```
create index 索引名 on 表名 (表字段[(length)] [ASC|DESC]);
```



## 1.2 删除索引

```
drop index 索引名 on 表名;
```



# 2 设计索引的原则

1. 搜索的索引列，不一定是所要选择的列。也就是说，最适合索引的列是出现在where字句中的列，或者连接子句中指定的列，而不是出现在select关键字后的选择列表的列。
2. 使用唯一索引。考虑某列中值的分布，索引的列的基数越大，索引的效果越好，也就是说，列数据的不规则性越大，索引的效果越好。
3. 使用短索引。如果对字符串列进行索引，应该指定一个前缀长度，只要有可能就应该这样做。
4. 不要过度索引，索引并不是越多越好，只需要保留所需的索引即可。
5. 对于InnoDB表，记录默认会按照一定的顺序保存: 如果有主键，按照主键顺序保存；如果没有主键，但是有唯一索引，那么按照索引顺序保存；如果主键和唯一索引都没有，那么表中会自动生成一个内部列，按照这个列的顺序保存。按照主键或者内部列进行的访问是最快的，所以InnoDB表要尽量设置主键，并且尽可能使用较短的数据类型。



# 3 BTREE索引和HASH索引

**HASH索引:**

只能使用”=”、”<=>”和in这样的等式比较，并且只能使用整个关键字来搜索一行。



**BTREE索引:**

可以使用”=”、”<”、”<=”、”>”、”>=”、between或者like等各种操作符，并且能进行范围查找。