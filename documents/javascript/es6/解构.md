[TOC]



# 1 对象解构

## 1.1 对象解构

示例：

```
let person = {
    name: 'liuxindong',
    age: 26
};

let {name,age} = person;

console.log(name);
console.log(age);
输出结果：
liuxindong
26
```



如果使用var、let或const解构声明变量，则必须提供初始化程序，也就是等号右边的值，下面的代码都是错误的：

```
var {name,age};
let {name,age};
const {name,age};
```



## 1.2 解构赋值

```
let name= 'jack';
let age = 15;
let person = {
    name: 'liuxindong',
    age: 26
};

({name,age} = person);  //使用解构语法为多个变量赋值，一定要加小括号

console.log(name);
console.log(age);
输出结果：
liuxindong
26
```



**注意：**
一定要使用一对小括号包裹解构赋值语句，因为js引擎将一对开放的花括号视为一个代码块，而语法规定，代码块语句不允许出现在赋值语句左侧，添加小括号后可以将块语句转化为一个表达式，从而实现整个解构赋值的过程。
解构赋值表达式（也就是等号右侧的表达式）如果为null或者undefined会导致程序抛出错误。



## 1.3 默认值

解构赋值时，当指定的属性不存在，可以随意定义一个默认值，在属性名称后面添加等号和对应的默认值即可。

```
let person = {
    name: 'liuxindong',
    age: 26
};

let {name,age,phone = 123456789} = person;

console.log(name);
console.log(age);
console.log(phone);

输出结果：
liuxindong
26
123456789
```



## 1.4 为非同名局部变量赋值

```
let person = {
    name: 'liuxindong',
    age: 26
};

let {name: aaa,age: bbb} = person;

console.log(aaa);
console.log(bbb);
输出结果：
liuxindong
26
```



## 1.5 嵌套对象解构

```
let aaa = {
    bbb: {
        ccc: {
            name: 'jack',
            age: 25
        }
    }
};

let {bbb: {ccc}} = aaa;

console.log(ccc.name);
console.log(ccc.age);

let {bbb: {ccc: person}} = aaa;

console.log(person.name);
console.log(person.age);

输出结果：
jack
25
jack
25
```



# 2 数组解构

## 2.1 数组解构

```
let colors = ['red','green','blue'];

let [color1,color2] = colors;

console.log(color1);
console.log(color2);
输出结果：
red
green
```



在解构模式中，也可以直接省略元素，只为感兴趣的元素提供变量名：

```
let colors = ['red','green','blue'];

let [,,color3] = colors;

console.log(color3);
输出结果：
blue
```

当通过var、let或const声明数组解构的绑定时，必须要提供一个初始化程序，这和对象解构中相同。



## 2.2 解构赋值

```
let colors = ['red','green','blue'];
let color1 = 'white';
let color2 = 'black';

[color1,color2] = colors;  //数组解构赋值不再需要小括号包裹

console.log(color1);
console.log(color2);
输出结果：
red
green
```



数组解构赋值还有一个独特的用例：交换两个变量的值

```
let a = 1,b = 2;

[a,b] = [b,a];

console.log(a);
console.log(b);

输出结果：
2
1
```



## 2.3 默认值

```
let colors = ['red'];

let [color1,color2 = 'green'] = colors;

console.log(color1);
console.log(color2);
输出结果：
red
green
```



## 2.4 嵌套数组解构

```
let colors = ['red', ['green', 'blue'], 'white'];

let [color1,[color2]] = colors;

console.log(color1);
console.log(color2);
输出结果：
red
green
```



## 2.5 不定元素

```
let colors = ['red', 'green', 'blue', 'white'];

let [color1,...otherColors] = colors;

console.log(color1);
console.log(otherColors);
输出结果：
red
[ 'green', 'blue', 'white' ]
```

在被解构的数组中，不定元素必须为最后一个条目，在后面继续添加逗号会导致程序抛出语法错误。



# 3 混合解构

```
let aaa = {
    bbb: {
        ccc: {
            name: 'jack',
            age: 25
        }
    },

    ddd: ['red','green']
};

let {
    bbb: {ccc},
    ddd: [color1]
} = aaa;

console.log(ccc);
console.log(color1);
输出结果：
{ name: 'jack', age: 25 }
red
```



# 4 解构参数

```
function aaa({name,age}){
    console.log(name);
    console.log(age);
}

let person1 = {
    name: 'jack',
    age: 25
};

let person2 = {
    name: 'rose'
};

aaa(person1);
aaa(person2);
输出结果：
jack
25
rose
undefined
```