[TOC]

ES6中新增了模板字面量以及很多便捷的字符串处理API



# 1 API

## 1.1 codePointAt

返回字符串中指定位置对应的码位，即一个整数值。

```
let code = "刘新冬".codePointAt(0);
console.log(code);
输出结果：
21016
```



## 1.2 String.fromCodePoint

根据指定的码位生成一个字符。

```
let char = String.fromCodePoint(21016);
console.log(char);
输出结果：
刘
```



## 1.3 normalize

将字符串标准化为同一种形式，一般用于字符串比较，在进行字符串比较之前，建议先将字符串标准化为同一种形式。
该方法接受一个可选字符串参数，表示不同的标准化形式：NFC(默认) / NFD / NFKC / NFKD。



## 1.4 includes、startsWith、 endsWith

上面三个方法都接受两个参数，第一个参数为要搜索的文本，第二个参数为可选参数，表示搜索的起始位置。



## 1.5 repeat

返回当前字符串重复指定次数后的新字符串。

```
let name = "刘新冬".repeat(3);
console.log(name);
输出结果：
刘新冬刘新冬刘新冬
```



# 2 模版字面量

ES6提供的模版字面量可以针对实现以下几种效果：

1. 多行字符串
2. 基本的字符串格式化：将变量的值嵌入字符串的能力
3. HTML转义：向HTML插入经过安全转换后的字符串的能力



## 2.1 基础语法

反撇号（`）

```
let message = `hello,es6`;
console.log(message);
console.log(typeof message);
console.log(message.length);
输出结果：
hello,es6
string
9
```



## 2.2 多行字符串

```
let message = `hello,
es6`;
console.log(message);
console.log('-----------');
console.log(typeof message);
console.log(message.length);
输出结果：
hello,
es6
-----------
string
10
```

注意此时message的长度发生了变化，再来看一个更加明显的示例：

```
let message = `hello,
                es6`;
console.log(message);
console.log('-----------');
console.log(typeof message);
console.log(message.length);
输出结果：
hello,
                es6
-----------
string
26
```

在反撇号中的所有空白符都属于字符串的一部分，所以要特别小心缩进。



## 2.3 字符串占位符

将变量的值嵌入到字符串中

```
let name = 'liuxindong';
let message1 = `hello,${name}!`;
let message2 = `hello,${name.repeat(3)}!`;
console.log(message1);
console.log(message2);
输出结果：
hello,liuxindong!
hello,liuxindongliuxindongliuxindong!
```

占位符就是javascript表达式，可以嵌入除了变量以外的其他内容：运算式、函数调用等等。



## 2.4 HTML转义

```
let message = `"hello,i am 'liuxindong'"!`;
console.log(message);
输出结果：
"hello,i am 'liuxindong'"!
```

单双引号可以随意搭配使用，而不再需要显式的转义符了。