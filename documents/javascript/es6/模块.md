[TOC]

ES6引入了模块，模块是自动运行在严格模式下并且没有办法退出运行的JavaScript代码，在模块顶部创建的变量不会自动被添加到全局共享作用域，这个变量仅在模块的顶级作用域中存在，而且模块必须导出一些外部代码可以访问的元素，如变量或函数。

模块也可以从其他模块导入。



# 1 导出

## 1.1 常规导出

可以用export关键字将一部分已发布的代码暴漏给其他模块，export可以放在任何变量、函数或类的声明前面：

```
// 导出数据
export var aaa = 'aaa';
export let bbb = 'bbb';
export const ccc = 'ccc';

// 导出函数
export function ddd() {
    console.log('ddd')
}

// 导出类
export class EEE{
    
}

// 也可以先定义，后导出
function fff() {
    console.log('fff')
}

export {fff}
```



## 1.2 导出重命名

```
function aaa() {
    console.log('fff')
}

export {aaa as newName}
```



## 1.3 导出默认值

```
function aaa() {
    console.log('fff')
}

export default aaa;
```



# 2 导入

```
import {aaa, bbb, ccc, ddd, EEE, fff} from './exportDemo.js';
```



## 2.1 导入单个绑定

```
import {aaa} from './exportDemo.js';
```



## 2.2 导入多个绑定

```
import {aaa, bbb, ccc} from './exportDemo.js';
```



## 2.3 导入整个模块

```
import * as demo from './exportDemo.js';
```



## 2.4 导入重命名

```
import {newName as aaa} from "./exportDemo.js";
```



## 2.5 导入默认值

导入默认值时，不需要加大括号

```
import aaa from "./exportDemo.js";
```



export和import的一个重要限制是，它们必须在其它语句和函数之外使用。不能动态地导入或者导出绑定，export和import关键字被设计成静态的。



# 3 加载模块


在\<script>中使用模块

```
<!-- 加载一个JavaScript模块文件 -->
<script type="module" src="./module1.js"></script>

<!-- 内联引入一个模块 -->
<script type="module">
    import {aaa} from './module2.js';
    
    //....
</script>
```



在web浏览器中，模块的加载顺序就是\<script>标签的声明顺序（除非\<script>标签在声明时应用了async属性来表示异步加载）。

