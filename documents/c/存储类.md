[TOC]



# 1 什么是存储类

对象有时也称为变量，它是一个存储位置，对它的解释依赖于两个主要属性：**存储类**和**类型**。存储类决定了与该标识对象相关联的存储区域的生命期，类型决定了标识对象中值的含义。



# 2 存储类的分类

存储类分为两类：

- **自动存储类**

  自动存储类对象对于一个程序块来说是局部的，在退出程序块时该对象将消失。如果没有使用存储类说明符，或者使用 auto 限定符，则程序块中的声明生成的都是自动存储类对象。声明为 register 的对象也是自动存储类对象。

- **静态存储类**

  静态对象可以是在某个程序块内部的对象，也可以是所有程序块外部的对象。无论是哪一种情况，在退出和再进入函数或程序块时其值将保持不变。在一个程序块内，静态对象用 static 关键字声明。在所有程序块外部声明且与函数定义在同一级的对象总是静态的。可以通过 static 关键字将对象声明为某个特定翻译单元的局部对象，这种类型的对象将具有内部连接。当省略显式的存储类或通过关键字 extern 进行声明时，对象对整个程序来说是全局可访问的，并且具有外部连接。



# 3 存储类说明符

存储类说明符有以下几种：

- **auto**

  将声明的对象说明为自动存储类对象，这些对象仅可在函数中，这种声明也具有定义作用，并将预留存储空间。

- **register**

  将声明的对象说明为自动存储类对象，这些对象仅可在函数中，这种声明也具有定义作用，并将预留存储空间。与 auto 不同的是，register 暗示了其声明的对象将被频繁地访问，但是其对象不一定真的在寄存器中，实际上只有很少的对象被真正放到寄存器中，并且只有特定类型才可以。并且，register 声明的对象不能通过运算符 & 获取地址。

- **static**

  将声明的对象说明为静态存储类，这种对象可以用在函数内部或者外部。在函数内部，该说明符将引起存储空间的分配，具有定义的作用。在函数外部时，该对象在当前文件中是唯一的，并且能够被当前文件的所有函数访问。

- **extern**

  函数内部的 extern 声明表明，被声明的对象的存储空间定义在其他地方；在函数外部时，说明被声明的对象的存储空间定义在其他文件中。

- **typedef**

  tyoedef 并不会为对象预留存储空间，它并没有创建一个新类型，只是为某个已经存在的类型添加了一个新的名称而已。

