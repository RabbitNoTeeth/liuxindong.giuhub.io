[TOC]



# 1 定义

定义在函数外部的变量成为外部变量。



# 2 作用域

从声明它的地方开始，到其所在的（待编译的）文件的末尾结束。



# 3 示例

存在源代码文件 demo.h , 文件代码如下：

```
int a = 0;
char arr[100];

void f1() { ... }

void f2() { ... }
```

变量 a、arr 即为外部变量，在函数 f1 和 f2 中可访问这些变量。



# 4 初始化

在一个程序的所有源文件中，一个外部变量只能在某个文件中定义一次，外部变量定义后计算机将为之分配内存，所有，如果外部变量类型为数组，那么必须指定数组大小。



# 5 extern

默认情况下，文件 b.h 无法访问文件 a.h 中定义的外部变量，要解决这个问题，需要使用 extern 关键字。

a.h 文件代码：

```
int a = 0;
char arr[100];
```



b.h 文件代码：

```
extern int a;
extern char arr[];
```



如此一来，b.h 文件中便可对 a.h 文件中变量 a 、arr 进行访问。

**注意**：extern 关键字并不是对变量的定义，并没有创建变量或者为它们分配内存，只是声明该文件中需要引用其他文件中的外部变量。所以 extern 修饰数组变量时不需要指定数组大小。